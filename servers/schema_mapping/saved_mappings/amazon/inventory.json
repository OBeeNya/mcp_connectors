{
  "marketplace": "amazon",
  "entity": "Inventory",
  "version": "1.0",
  "validated": true,
  "merge_note": "Call getInventorySummaries with details=true to get the quantity breakdown. Pass granularityType=Marketplace, granularityId={marketplace_id}.",
  "mappings": [
    {
      "internal_field": "sku",
      "source_path": "sku",
      "transformation": "direct",
      "required": true
    },
    {
      "internal_field": "marketplace",
      "transformation": "constant",
      "value": "amazon",
      "required": true
    },
    {
      "internal_field": "quantity_available",
      "source_path": "inventoryDetails.fulfillableQuantity",
      "transformation": "direct",
      "default_value": 0,
      "required": true
    },
    {
      "internal_field": "quantity_reserved",
      "source_path": "inventoryDetails.reservedQuantity.totalReservedQuantity",
      "transformation": "direct",
      "required": false
    },
    {
      "internal_field": "quantity_inbound",
      "source_path": "inventoryDetails.inboundShippedQuantity",
      "transformation": "direct",
      "required": false,
      "notes": "Sum of inboundWorkingQuantity + inboundShippedQuantity + inboundReceivingQuantity for total inbound"
    },
    {
      "internal_field": "quantity_unfulfillable",
      "source_path": "inventoryDetails.unfulfillableQuantity.totalUnfulfillableQuantity",
      "transformation": "direct",
      "required": false
    },
    {
      "internal_field": "fulfillment_channel",
      "transformation": "constant",
      "value": "marketplace",
      "required": true,
      "notes": "FBA inventory is always marketplace-fulfilled. MFN stock is updated via the Listings API."
    },
    {
      "internal_field": "last_updated_at",
      "source_path": "lastUpdatedTime",
      "transformation": "datetime_iso",
      "required": true
    }
  ]
}
